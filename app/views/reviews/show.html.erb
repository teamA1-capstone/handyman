<h3 style="font-weight:bold;"><%= @review.headline%></h3><br>

<% ratings = [@review.reliability_rating, @review.honesty_rating, @review.skill_rating, @review.focused_rating]%>

<body onload="rating(<%= ratings[0]%>, <%= ratings[1]%>,<%= ratings[2]%>,<%= ratings[3]%>)">
    
    <div id="review">
        <p>Author: <%= @review.customer_first_name %></p>
        <h5 style="font-weight:bold;">Review of Worker's Performance on the Job</h5>

        <p><%= @review.body %></p>

        <div id="reliability">
            Reliability:
        <div>

        <div class="rating">
            <% i = 1 %>
            <% while i < 6%>
            <img src="<%= asset_path 'star-blue-outline.svg' %>" id='<%= i%>' class='star'/>
            <%i = i + 1%>
            <% end %>
        </div>

        <br>

        <div id="honesty">
            Honesty:
        </div>

        <div class="rating">
            <% while i < 11%>
            <img src="<%= asset_path 'star-blue-outline.svg' %>" id='<%= i%>' class='star'/>
            <%i = i + 1%>
            <% end %>
        </div>

        <br>

        <div id="skill">
            Skill:
        </div>

        <div class="rating">
            <% while i < 16%>
            <img src="<%= asset_path 'star-blue-outline.svg' %>" id='<%= i%>' class='star'/>
            <%i = i + 1%>
            <% end %>
        </div>

        <br>

        <div id="focus">
            Focus:
        </div>

        <div class="rating">
            <% while i < 21%>
            <img src="<%= asset_path 'star-blue-outline.svg' %>" id='<%= i%>' class='star'/>
            <%i = i + 1%>
            <% end %>
        </div>

        <!-- there is a picture uploaded, just cant figure out how to display -->

    </div><br>

    <p>
    <%= link_to 'Back',:back, class: 'btn' %>
    </p>

    <script>

        function rating(reliability, honesty, skill, focused) {
            console.log("Hi");
            reliabilityStars(reliability);
            honestyStars(honesty);
            skillStars(skill);
            focusedStars(focused);
        }

        function reliabilityStars(rating){
            while(rating > 0){
            document.getElementById(rating.toString()).src = "<%= asset_path 'star-fill-grey-with-outline.svg'%>"; 
            rating = rating - 1;
            }
        }

        function honestyStars(rating){
            rating = rating + 5;
            while(rating > 5){
                document.getElementById(rating.toString()).src = "<%= asset_path 'star-fill-grey-with-outline.svg'%>"; 
                rating = rating - 1;
            }
        }

        function skillStars(rating){
            rating = rating + 10;
            while(rating > 10){
                document.getElementById(rating.toString()).src = "<%= asset_path 'star-fill-grey-with-outline.svg'%>"; 
                rating = rating - 1;
            }
        }

        function focusedStars(rating){
            rating = rating + 15;
            while(rating > 15){
                document.getElementById(rating.toString()).src = "<%= asset_path 'star-fill-grey-with-outline.svg'%>"; 
                rating = rating - 1;
            }   
        }

    </script>
</body>           